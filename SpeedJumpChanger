local player = game.Players.LocalPlayer

local function modifyPlayerAttributes()
    local humanoid
    local originalWalkSpeed
    local originalJumpPower

    local function updateAttributes()
        if humanoid then
            if _G.MyScriptPlayerSpeedEnabled then
                humanoid.WalkSpeed = _G.MyScriptPlayerSpeed
                humanoid.JumpPower = _G.MyScriptPlayerJumpHeight
            else
                humanoid.WalkSpeed = originalWalkSpeed
                humanoid.JumpPower = originalJumpPower
            end
        end
    end

    local function onCharacterAdded(character)
        humanoid = character:WaitForChild("Humanoid")
        originalWalkSpeed = humanoid.WalkSpeed
        originalJumpPower = humanoid.JumpPower

        -- Следим за изменениями переменных и обновляем атрибуты
        while true do
            updateAttributes()
            wait(0.1) -- Периодически проверяем состояние
        end
    end

    player.CharacterAdded:Connect(onCharacterAdded)

    -- Если персонаж уже существует, применяем изменения сразу
    if player.Character then
        onCharacterAdded(player.Character)
    end
end

modifyPlayerAttributes()
